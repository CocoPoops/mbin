{% extends 'base.html.twig' %}
{% use 'notifications/_blocks.html.twig' %}

{%- block title -%}
    {{- 'notifications'|trans }} - {{ parent() -}}
{%- endblock -%}

{% block mainClass %}page-notifications{% endblock %}

{% block header_nav %}
{% endblock %}

{% block sidebar_top %}
{% endblock %}

{% block body %}
    <h1>{{ 'notifications'|trans }}</h1>
    {% for notification in notifications %}
        <div class="section section--small notification">
            <div>
                {%- with {
                    notification: notification,
                    showMagazine: false,
                } only -%}
                    {{ block(notification.type) }}
                {%- endwith -%}
            </div>
            <span class="text--muted">{{ component('date', {date: notification.createdAt}) }}</span>
        </div>
    {% endfor %}
    {% if(notifications.haveToPaginate is defined and notifications.haveToPaginate) %}
        {{ pagerfanta(notifications, null, {'pageParameter':'[p]'}) }}
    {% endif %}
    {% if not notifications|length %}
        <aside class="section section--muted">
            <p>{{ 'empty'|trans }}</p>
        </aside>
    {% endif %}
{% endblock %}
