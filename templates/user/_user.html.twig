{% block user %}
    {%- if prefix and not (app.user and app.user.hideUserAvatars) -%}<small class="text-muted">@</small>{%- endif -%}
    <a class="kbin-user {{ bolded ? 'font-weight-bold' : '' }}"
       data-controller="user-popup"
       data-action="mouseover->user-popup#mouse mouseout->user-popup#out"
       data-user-popup-username-value="{{ user.username  }}"
       href="{{ path('user', {'username': user.username}) }}">
        {%- if avatar and user.avatar and (app.user is null or app.user and not app.user.hideUserAvatars) -%}
            <img width="35" height="35" class="rounded-circle me-1"
                 src="{{ asset(user.avatar.filePath) | imagine_filter('avatar_thumb') }}"
                 alt="{{ user.username }}"/>
        {%- endif -%}
        {{ user.username|trim('@', 'left') }}</a>
{% endblock user %}

{% block avatar %}
    <a href="{{ path('user', {'username': user.username}) }}">
        <div class="kbin-avatar">
            {% if user.avatar %}
                <img width="100" height="100" class="img-thumbnail" src="{{ asset(user.avatar.filePath) | imagine_filter('avatar_thumb') }}"
                     alt="{{ user.username }}" style="{{ width ? 'max-width:'~width : '' }}"/>
            {% else %}
                <img width="100" height="100" class="img-thumbnail" src="{{ asset('build/images/avatar.jpg') }}" alt="{{ user.username }}"/>
            {% endif %}
        </div>
    </a>
{% endblock %}
